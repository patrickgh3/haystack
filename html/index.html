<!DOCTYPE html>
<html>
  <head>
    <title>Haystack</title>
    <style>
* { margin: 0; padding: 0; }
body {
    color: #212121;
    font-family: "Helvetica Neue", "Calibri Light", Roboto, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    letter-spacing: 0.02em;
}
#main-table { width: auto; border-collapse: separate; border-spacing: 0; table-layout: fixed; }
  td { min-width: 120px; max-width: 120px; height: 90px; }
  .channelname { max-width: 300px; min-width: 300px; }
    td h2 { text-align: center;}
    td .hov { background-color: white; display: inline-block; vertical-align: top; }
      .hov:hover { opacity: .7 }
      .hov a { width: 100%; height: 100%; }
        .hov a img { width: 100%; height: 100%; display: block; }
    td .no-vod { display: inline-block }
      .no-vod img { width: 100%; height: 100%; display: block; }
      .no-vod .no-vod-text { position: absolute; width: 120px; font-size: 8pt; background-color: red; color: white; font-weight: bold; text-align: center; }
    td .timelabel { color: green; }
    </style>
  </head>
  <body>

    <p>Build time: {{.BuildTimeStr}}</p>
    <p>{{.NumChannels}} channels</p>

    <table id="main-table">
      <tr>
        <td class="channelname"></td>
        {{range $l := $.TimeLabels}}
          <td>
          {{if $l}}
            <div class="timelabel">{{$l}}</div>
          {{end}}
          </td>
        {{end}}
      </tr>

      {{range $c := $.Channels}}
      <tr>
        <td><h2>{{$c.Name}}</h2></td>
        {{range $t := $c.Thumbs}}
        {{if $t.Filled}}
        <td>
          {{if $t.HasVod}}
          <div class="hov">
            <a href="{{$t.VodUrl}}" target="_blank">
              <img src="{{$t.ImageUrl}}">
            </a>
          </div>
            {{else}}
          <div class="no-vod">
            <img src="{{$t.ImageUrl}}">
            <div class="no-vod-text">^ No VOD</div>
          </div>
            {{end}}
        </td>
        {{else}}
        <td></td>
        {{end}}
        {{end}}

      </tr>
      {{end}}

    </table>

  </body>
</html>

